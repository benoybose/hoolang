CMAKE_MINIMUM_REQUIRED(VERSION 3.16)
CMAKE_POLICY(SET CMP0074 NEW)
PROJECT(hooemitter)

SET(HOO_EMITTER_HEADERS
    ${CMAKE_SOURCE_DIR}/hoo/emitter/UnitEmitter.hh)

SET(HOO_EMITTER_SOURCES
    ${CMAKE_SOURCE_DIR}/hoo/emitter/UnitEmitter.cpp)

ADD_LIBRARY(hooemitter STATIC
    ${HOO_EMITTER_HEADERS}
    ${HOO_EMITTER_SOURCES})

SET_TARGET_PROPERTIES(hooemitter
    PROPERTIES
    PUBLIC_HEADER
    "${HOO_EMITTER_HEADERS}")

ADD_DEPENDENCIES(hooemitter
    hooast
    hooparser)

TARGET_INCLUDE_DIRECTORIES(hooemitter PRIVATE
    ${CMAKE_SOURCE_DIR})